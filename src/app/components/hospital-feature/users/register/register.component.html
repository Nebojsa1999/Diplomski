<div class="flex flex-col justify-center h-full bg-no-repeat bg-cover bg-center">
    <div class="w-full flex items-center justify-center flex-grow">
        <mat-card class="w-137">
            <mat-card-content>
                <form [formGroup]="form" class="flex flex-col space-y-4">
                    <h2>Register</h2>
                    <div class="flex flex-row space-x-4">
                        <div class="flex flex-col space-y-4">
                            <mat-form-field>
                                <mat-label>Email</mat-label>
                                <input matInput formControlName="email">
                                @if (this.form.get('email')?.hasError('required')) {
                                    <mat-error>
                                        Email address is required
                                    </mat-error>
                                }
                                @if (this.form.get('email')?.hasError('email')) {
                                    <mat-error>
                                        Please provide a valid email address
                                    </mat-error>
                                }
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>First name</mat-label>
                                <input matInput placeholder="First name" formControlName="firstName">
                                @if (this.form.get('firstName')?.hasError('required')) {
                                    <mat-error>
                                        First name is required
                                    </mat-error>
                                }
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>Last name</mat-label>
                                <input matInput placeholder="Last name" formControlName="lastName">
                                @if (this.form.get('lastName')?.hasError('required')) {
                                    <mat-error>
                                        Last name is required
                                    </mat-error>
                                }
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>Country</mat-label>
                                <input matInput type="text" placeholder="Country" formControlName="country">
                                @if (this.form.get('country')?.hasError('required')) {
                                    <mat-error>
                                        Country is required
                                    </mat-error>
                                }
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>City</mat-label>
                                <input matInput type="text" placeholder="City" formControlName="city">
                                @if (this.form.get('city')?.hasError('required')) {
                                    <mat-error>
                                        City is required
                                    </mat-error>
                                }
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>Address</mat-label>
                                <input matInput type="text" placeholder="Address" formControlName="address">
                                @if (this.form.get('address')?.hasError('required')) {
                                    <mat-error>
                                        Address is required
                                    </mat-error>
                                }
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>Phone number</mat-label>
                                <input matInput type="text" placeholder="Phone" formControlName="phone">
                                @if (this.form.get('phone')?.hasError('required')) {
                                    <mat-error>
                                        Phone number is required
                                    </mat-error>
                                }
                            </mat-form-field>
                        </div>
                        <div class="flex flex-col  space-y-4">
                            <mat-form-field class="full-width-input">
                                <mat-label>Personal ID</mat-label>
                                <input matInput type="text" formControlName="personalId" required>
                                <mat-error>
                                    Please provide a personal ID
                                </mat-error>
                            </mat-form-field>
                            <mat-form-field class="full-width-input">
                                <mat-label>Occupation</mat-label>
                                <input matInput type="text" formControlName="occupation">

                            </mat-form-field>
                            <mat-form-field class="full-width-input">
                                <mat-label>Occupation info</mat-label>
                                <input matInput type="text" formControlName="occupationInfo">

                            </mat-form-field>
                            <mat-label>Gender</mat-label>
                            <mat-radio-group formControlName="gender">

                                @for (gender of genders; track $index) {
                                    <mat-radio-button [value]="gender">
                                        {{ gender }}
                                    </mat-radio-button>
                                }
                            </mat-radio-group>
                            <mat-form-field>
                                <mat-label>Role</mat-label>
                                <mat-select formControlName="role">
                                    @for (role of roles; track role) {
                                        <mat-option [value]="role">
                                            {{ ('COMMON.' + role) | translate }}
                                        </mat-option>
                                    }
                                </mat-select>
                                @if (this.form.get('role')?.hasError('required')) {
                                    <mat-error>
                                        Role is required
                                    </mat-error>
                                }
                            </mat-form-field>
                            @if (this.form.get('role')?.value === Role.DOCTOR) {
                                <mat-form-field>
                                    <mat-label>Doctor type</mat-label>
                                    <mat-select formControlName="doctorType" panelClass="specialty-panel" >
                                        @for (doctorType of doctorTypes; track doctorType) {
                                            <mat-option [value]="doctorType">
                                                {{ ('COMMON.' + doctorType) | translate }}
                                            </mat-option>
                                        }
                                    </mat-select>
                                    @if (this.form.get('doctorType')?.hasError('required')) {
                                        <mat-error>
                                            Doctor type is required
                                        </mat-error>
                                    }
                                </mat-form-field>
                            }
                            <mat-form-field appearance="outline">
                                <mat-label>Hospital</mat-label>
                                <mat-select formControlName="hospital">
                                    @for (hospital of hospitals$ | async; track hospital.id) {
                                        <mat-option [value]="hospital.id"> {{ hospital.name }}
                                        </mat-option>
                                    }

                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <button (click)="onSubmit()" [disabled]="form.invalid || form.pristine" mat-flat-button color="primary">Register</button>
                </form>
            </mat-card-content>
        </mat-card>
    </div>
</div>

