@if (currentUser(); as user) {
    <div class="flex flex-col justify-center h-full bg-no-repeat bg-cover bg-center">
        <div class="w-full flex items-center justify-center flex-grow">
            <mat-card class="w-137">
                <mat-card-content>
                    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="flex flex-col space-y-4">
                        <h2>Edit user</h2>
                        <mat-form-field class="full-width-input">
                            <mat-label>First name</mat-label>
                            <input matInput placeholder="First name" formControlName="firstName" required>
                            <mat-error>
                                First name is required
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="full-width-input">
                            <mat-label>Last name</mat-label>
                            <input matInput placeholder="Last name" formControlName="lastName" required>
                            <mat-error>
                                Last name is required
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="full-width-input">
                            <mat-label>Address</mat-label>
                            <input matInput type="text" placeholder="Address" formControlName="address" required>
                            <mat-error>
                                Please provide a valid address
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="full-width-input">
                            <mat-label>City</mat-label>
                            <input matInput type="text" placeholder="City" formControlName="city" required>
                            <mat-error>
                                Please provide a valid city
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="full-width-input">
                            <mat-label>Country</mat-label>
                            <input matInput type="text" placeholder="Country" formControlName="country" required>
                            <mat-error>
                                Please provide a valid country
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="full-width-input">
                            <mat-label>Phone</mat-label>
                            <input matInput type="text" placeholder="Phone" formControlName="phone" required>
                            <mat-error>
                                Please provide a valid country
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="full-width-input">
                            <mat-label>Personal ID</mat-label>
                            <input matInput type="text" placeholder="Personal ID" formControlName="personalId" required>
                            <mat-error>
                                Please provide a personal ID
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="full-width-input">
                            <mat-label>Occupation</mat-label>
                            <input matInput type="text" placeholder="Personal ID" formControlName="occupation">

                        </mat-form-field>
                        <mat-form-field class="full-width-input">
                            <mat-label>Occupation info</mat-label>
                            <input matInput type="text" placeholder="Personal ID" formControlName="occupationInfo">

                        </mat-form-field>
                        <mat-radio-group formControlName="gender">
                            <mat-label>Gender</mat-label>
                            @for (gender of genders; track $index) {
                                <mat-radio-button [value]="gender" [checked]="user.gender === gender">
                                    {{ gender }}
                                </mat-radio-button>
                            }
                        </mat-radio-group>
                        <mat-form-field>
                            <mat-label>Role</mat-label>
                            <mat-select formControlName="role">
                                @for (role of roles; track role) {
                                    <mat-option [value]="role">
                                        {{ ('COMMON.' + role) | translate }}
                                    </mat-option>
                                }
                            </mat-select>
                            @if (this.form.get('role')?.hasError('required')) {
                                <mat-error>
                                    Role is required
                                </mat-error>
                            }
                        </mat-form-field>
                        <mat-form-field appearance="outline">
                            <mat-label>Hospital</mat-label>
                            <mat-select formControlName="hospital" [compareWith]="compareHospitalById">
                                @for (hospital of hospitals$ | async; track hospital.id) {
                                    <mat-option [value]="hospital"> {{ hospital.name }}
                                    </mat-option>
                                }

                            </mat-select>
                        </mat-form-field>
                        <button [disabled]="form.invalid || form.pristine" mat-flat-button color="primary">Edit</button>
                    </form>
                </mat-card-content>
            </mat-card>
        </div>
    </div>
}